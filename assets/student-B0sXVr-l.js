import{A as d}from"./index-DmnE47O_.js";const c=d("student",{state:()=>({sites:[],majorList:[{id:"cs",name:"计算机科学"},{id:"nj",name:"酿酒"},{id:"math",name:"游戏"},{id:"mj",name:"麻将"},{id:"ph",name:"小吃"},{id:"phy",name:"酸辣椒"}],classList:[{name:"计算机一班",majorId:"cs"},{name:"酿酒一班",majorId:"nj"},{name:"游戏三班",majorId:"math"},{name:"麻将班",majorId:"mj"},{name:"炒粉班",majorId:"ph"},{name:"黄酒专业",majorId:"phy"}],teacherList:[{name:"666",majorId:"cs"},{name:"张歌星",majorId:"nj"},{name:"张明星",majorId:"math"},{name:"上跌",majorId:"mj"},{name:"小艳",majorId:"ph"},{name:"张猛",majorId:"phy"}],form:[{label:"学生名字",type:"text",Subsidy:"true"},{label:"年龄",type:"text",Subsidy:"true"},{label:"性别",type:"from-checkbox",Subsidy:"true"},{label:"学号",type:"text",Subsidy:"true"},{label:"电话号码",type:"text",Subsidy:"true"},{label:"专业",type:"link-menu-major",Subsidy:"true"},{label:"所在班级",type:"link-menu-class",Subsidy:"true"},{label:"导师",type:"link-menu-teacher",Subsidy:"true"},{label:"省份",type:"menu",Subsidy:"true",options:[{value:"北京市",label:"北京市"},{value:"上海市",label:"上海市"},{value:"广东省",label:"广东省"}]},{label:"城市",type:"menu",Subsidy:"true",options:[{value:"广州市",label:"广州市"},{value:"深圳市",label:"深圳市"},{value:"珠海市",label:"珠海市"}]},{label:"紧急联系人",type:"text",Subsidy:"true"},{label:"是否低保户",type:"subsidy-checkbox",Subsidy:"true"},{label:"备注",type:"textareas",Subsidy:"true"}],studentlist:{}}),actions:{appendStudent(e){const t=e.学生名字;if(!t)return{status:"error",msg:"名字不能为空"};this.studentlist||(this.studentlist={});const s=this.studentlist[t];return s?s.电话号码===e.电话号码?{status:"warning",msg:`未更新：学生【${t}】已存在且电话号码一致。`}:(this.studentlist[t]=e,{status:"success",msg:`更新成功：检测到【${t}】电话变更，已更新信息。`}):(this.studentlist[t]=e,{status:"success",msg:`新增成功：已添加学生【${t}】`})}},getters:{classStatistics(e){const t=Object.values(e.studentlist||{}),s=e.classList||[],l=e.teacherList||[];return s.map(n=>{const u=n.name,i=t.filter(a=>a.所在班级===u),r=l.find(a=>a.majorId===n.majorId),m=r?r.name:"待定";return{class:u,teacher:m,number:i.length}})},totalStudentCount(e){return Object.keys(e.studentlist||{}).length}},persist:{key:"student-store-v4-logic",storage:localStorage,paths:["studentlist"]}});export{c as u};
