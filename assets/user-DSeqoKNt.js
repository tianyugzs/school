import{A as i}from"./index-DmnE47O_.js";const a=i("user",{state:()=>({userList:[],userInfo:{username:"未登录",photo:"https://img.yzcdn.cn/vant/cat.jpeg",enrollment:"",className:"",studentId:"",medal:0,bio:""}}),actions:{registerUser(e,s,t){if(this.userList.find(o=>o.username===e))return!1;const n={username:e,password:t,email:s,photo:"https://img.yzcdn.cn/vant/cat.jpeg",studentId:"2023"+Math.floor(Math.random()*1e4),className:"新注册班级",enrollment:new Date().toLocaleDateString(),medal:0,bio:"这位同学很神秘，没有写简介。"};return this.userList.push(n),!0},loginCheck(e,s){const t=this.userList.find(r=>r.username===e&&r.password===s);return t?(this.userInfo=t,!0):!1},logout(){this.userInfo={username:"未登录"}},updatePhoto(e){this.userInfo.photo=e;const s=this.userList.findIndex(t=>t.username===this.userInfo.username);s!==-1&&(this.userList[s].photo=e)}},persist:!0});export{a as u};
