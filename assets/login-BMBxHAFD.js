import{d as w,r as l,c as y,a as t,w as p,b as m,e as c,v as u,n as h,u as k,o as U,_ as E}from"./index-DmnE47O_.js";import{u as C}from"./user-DSeqoKNt.js";const S="/school/assets/%E9%92%89%E9%92%89-DZ2IYUCX.png",B="/school/assets/%E5%BE%AE%E4%BF%A1-BN6dUd-a.png",V={class:"bg-wrapper"},j={class:"form-container sign-up-container"},M={class:"form-container sign-in-container"},N={class:"overlay-container"},D={class:"overlay text-white"},I={class:"overlay-panel overlay-left d-flex flex-column align-items-center justify-content-center h-100 px-5 text-center"},A={class:"overlay-panel overlay-right d-flex flex-column align-items-center justify-content-center h-100 px-5 text-center"},R=w({__name:"login",setup($){const b=k(),v=C(),i=l(!1),a=l(""),f=l(""),o=l(""),n=l(""),r=l(""),x=()=>{if(!n.value||!r.value){alert("请输入账号和密码");return}v.loginCheck(n.value,r.value)?(localStorage.setItem("token","real-token-"+Date.now()),b.push("/home/home")):alert("账号或密码错误！请检查是否已注册。")},g=()=>{if(!a.value||!o.value){alert("用户名和密码必填");return}v.registerUser(a.value,f.value,o.value)?(alert("注册成功！请切换到登录页面进行登录。"),i.value=!1,n.value=a.value,r.value=o.value):alert("注册失败：该用户名已被占用")};return(d,e)=>(U(),y("div",V,[t("div",{class:h(["container-box shadow-lg",{"right-panel-active":i.value}])},[t("div",j,[t("form",{onSubmit:p(g,["prevent"]),class:"d-flex flex-column align-items-center justify-content-center h-100 px-5"},[e[7]||(e[7]=m('<h2 class="fw-bold mb-3" data-v-40c94889>创建账户</h2><div class="mb-3" data-v-40c94889><i class="bi bi-chat-fill mx-2" data-v-40c94889></i><i class="bi bi-wechat mx-2" data-v-40c94889></i></div><span class="small text-muted mb-3" data-v-40c94889>注册页</span>',3)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),type:"text",class:"form-control mb-2",placeholder:"用户名"},null,512),[[u,a.value]]),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.value=s),type:"password",class:"form-control mb-3",placeholder:"设置密码"},null,512),[[u,o.value]]),e[8]||(e[8]=t("button",{type:"submit",class:"btn btn-danger rounded-pill px-5 fw-bold"},"立即注册",-1))],32)]),t("div",M,[t("form",{onSubmit:e[4]||(e[4]=p((...s)=>d.login&&d.login(...s),["prevent"])),class:"d-flex flex-column align-items-center justify-content-center h-100 px-5"},[e[9]||(e[9]=m('<h2 class="fw-bold mb-3" data-v-40c94889>学校管理</h2><div class="mb-3" data-v-40c94889><img style="width:50px;" src="'+S+'" alt="" data-v-40c94889><img style="width:50px;" src="'+B+'" alt="" srcset="" data-v-40c94889></div><span class="small text-muted mb-3" data-v-40c94889>使用您的帐号登录</span>',3)),c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>n.value=s),type:"text",class:"form-control mb-2",placeholder:"手机号/邮箱/学号"},null,512),[[u,n.value]]),c(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>r.value=s),type:"password",class:"form-control mb-2",placeholder:"密码"},null,512),[[u,r.value]]),e[10]||(e[10]=m('<div class="d-flex justify-content-between w-100 mb-4 small" data-v-40c94889><div class="form-check" data-v-40c94889><input class="form-check-input" type="checkbox" id="rememberMe" data-v-40c94889><label class="form-check-label" for="rememberMe" data-v-40c94889>记住我</label></div><a href="#" class="text-decoration-none text-secondary" data-v-40c94889>忘记密码?</a></div>',1)),t("button",{onClick:x,type:"submit",class:"btn btn-danger rounded-pill px-5 fw-bold"},"登录")],32)]),t("div",N,[t("div",D,[t("div",I,[e[11]||(e[11]=t("h2",{class:"fw-bold mb-3"},"已有账号?",-1)),e[12]||(e[12]=t("p",{class:"mb-4"},"请使用您的教务系统账号登录",-1)),t("button",{class:"btn btn-outline-light rounded-pill px-5 fw-bold",onClick:e[5]||(e[5]=s=>i.value=!1)},"去登录")]),t("div",A,[e[13]||(e[13]=t("h2",{class:"fw-bold mb-3"},"你好, 管理员!",-1)),e[14]||(e[14]=t("p",{class:"mb-4"},"还没有账号？点击下方立即注册",-1)),t("button",{class:"btn btn-outline-light rounded-pill px-5 fw-bold",onClick:e[6]||(e[6]=s=>i.value=!0)},"去注册")])])])],2)]))}}),L=E(R,[["__scopeId","data-v-40c94889"]]);export{L as default};
